# Darwinium Journey Guide for the Simple Demo Application

This guides covers the actions necessary to deploy the resources necessary for a simple Journey on the Darwinium platform
to match and inject profiling for the key events generated by the demo application's basic authentication experience.

## End-State of this Guide

1. **Darwinium Login Journey with Profiling**
    * Journey Step to match View Homepage
    * Journey Step to match View Login
    * Journey Step to match View Account
    * Journey Step to match Requests to the Backend API
    * Darwinium Profiling Injection
    * Darwinium Cookie Injection
    * Journey Model to set Request Type for the Requests to the Backend API
    * Journey Model to set the Outcome for the Requests to the Backed API

## Prerequisites

To complete this guide, you will need the following:
1. **Deployment of the Demo Application resources**
   * Complete the [Deployment Guide](application-deployment-guide/README.md) found in this repository
2. **Access to the Darwinium Portal and Permission for your Demo Organization**
   * Work with Stephen Purvis or James Graham to get an organization configured for your demo application
3. **Access to the Darwinium Documentation**
   * Work with James Graham or Ben Davey to get access

---
## Darwinium Login Journey Deployment

1. Complete the [Cloudflare Deployment](https://docs.darwinium.com/docs/cloudflare-deployment) guide located in the Darwinium Documentation site
   * This guide calls out that you need to enabled `Workers (Paid)` in Cloudflare, however this is not the case for the demo application
   > [!WARNING]
   > Some of the screenshots in the documentation guide are dated so be sure you understand the purpose of each step before 
   > attempting the actions in the Cloudflare portal
   * Step 7 of this guide instructs you to Test your configuration by creating a journey. You can skip this step for now.
2. Configure Host Alias for your domain
   * Login to the Darwinium Portal
   * Navigate to the `Node Settings` section
   * Click `Git/Journey Settings` tab
   * Click `Add Alias`
     * **Alias:** `demohost`
     * **Host(s):** `{{mycustomdomain.com}}`
   > [!WARNING]
   > Swap out the `{{mycustomdomain.com` for the domain you configured for the Demo Application
3. Add Profiling to the default Journey
   * Login to the Darwinium Portal (if you haven't already)
   * Navigate to the `Workflows` section
   * Click the `Darwinium Marketplace` puzzle piece icon located in the right-hand menu
   * Click `Install` for the `Darwinium profiling and biometrics` listing
4. Create the Model files needed for the Login Journey
   * Login to the Darwinium Portal (if you haven't already)
   * Navigate to the `Workflows` section
   * Click on the `Explorer` files icon located in the right-hand menu
   * Right-click on the `src` directory
   * Create a file named `demo_api_outcome_types.rules`
     * Copy and paste the contents of the file with the same name located in the `./journey-resources` directory
   * Create a file named `demo_api_request_types.rules`
     * Copy and paste the contents of the file with the same name located in the `./journey-resources` directory
5. Update the `journeys.yaml` files
   * Login to the Darwinium Portal (if you haven't already)
   * Navigate to the `Workflows` section
   * Click on the `Explorer` files icon located in the right-hand menu
   * Right-click on the `journeys.yaml` file
   * Select `Open with...`
   * Select `Text Editor Default`
   * Copy and paste the contents of the file with the same name located in the `./journey-resources` directory
6. Update the `login.journey.yaml` files
    * Login to the Darwinium Portal (if you haven't already)
    * Navigate to the `Workflows` section
    * Click on the `Explorer` files icon located in the right-hand menu
    * Right-click on the `login.journey.yaml` file
    * Select `Open with...`
    * Select `Text Editor Default`
    * Copy and paste the contents of the file with the same name located in the `./journey-resources` directory
7. Stage, Commit, and Sync your changes
   * As always... Login if you haven't
   * Navigate to the `Workflows` section
   * Click on the `Explorer` files icon located in the right-hand menu
   * Click the `+` on each file that has been modified
   * Add a commit message
   * Then Click `Commit` followed by `Sync`
8. Monitor the Build and Deploy
   * As always... Login if you haven't
   * Navigate to the `Deployment` section
   * Once the build is successful, click `Deploy`

You can verify the deployment of the Darwinium resources in your Cloudfare Account by navigating to the `Routes` section
of your Domain.  Here you'll see additional Darwinium Workers deployed based on your journey resources.

As for any additional tutorials or instructions needed to complete the above steps, leverage the Darwinium Documentation.